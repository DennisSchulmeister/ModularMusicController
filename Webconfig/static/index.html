<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Modular Music Controller</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!--
        Modular Music Controller - Web Configuration Portal
        (C) 2025 Dennis Schulmeister-Zimolong <dennis@windows3.de>
        
        This program is free software; you can redistribute it and/or modify
        it under the terms of the GNU General Public License as published by
        the Free Software Foundation; either version 3 of the License, or
        (at your option) any later version.
        -->

        <script src="index.bundle.js"></script>
        <link rel="stylesheet" href="index.bundle.css">
        <link rel="icon" href="favicon.svg">
    </head>
    <body class="p-4">
        <!-- Page header with logo and navigation -->
        <header>
            <div class="d-flex gap-1 justify-content-between align-items-center ps-md-3 pe-md-3 mb-3">
                <!-- Title/Logo -->
                <h1>Modular Music Controller</h1>

                <!-- Toggle menu on mobile devices -->
                <button
                    type           = "button"
                    class          = "btn d-md-none p-0"
                    data-bs-toggle = "collapse"
                    data-bs-target = "#nav-menu"
                    aria-controls  = "nav-menu"
                    aria-expanded  = "false"
                    aria-label     = "Toggle navigation"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                    </svg>
                </button>
            </div>

            <!-- Navigation menu -->
            <nav id="nav-menu" class="navbar rounded collapse d-md-block bg-body-tertiary shadow-sm ps-3 pe-3">
                <ul class="navbar-nav d-flex flex-md-row align-center gap-2 gap-md-3">
                    <li class="nav-item">
                        <a class="nav-link" hx-get="pages/device.html" hx-target="#page-content">Device Settings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" hx-get="pages/network.html" hx-target="#page-content">Network Settings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" hx-get="pages/controls.html" hx-target="#page-content">Hardware Controls</a>
                    </li>
                </ul>
            </nav>
        </header>

        <!-- Selected page content -->
        <div class="flex-md-fill"></div>
        <main id="page-content" class="align-self-md-center ps-md-3 pe-md-3"></main>
        <div class="flex-md-fill"></div>

        <!-- Popup window for error messages and the occasional modal UX -->
        <div
            id              = "popup"
            class           = "modal fade" 
            tabindex        = "-1"
            aria-labelledby = "popup-title"
            aria-hidden     = "true"
            x-data          = "popupData"
        >
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <!-- Header -->
                    <div id="popup-header" class="modal-header">
                        <h5 id="popup-title" class="modal-title" x-text="title"></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Body -->
                    <div id="popup-body" class="modal-body">
                    </div>

                    <!-- Footer -->
                    <div id="popup-footer" class="modal-footer" x-show="buttons.length">
                        <template x-for="button in buttons">
                            <button
                                type         = "button"
                                x-bind:id    = "button.id"
                                x-bind:class = "`btn ${button.class}`"
                                x-text       = "button.text"
                                x-init       = "button.init($el)"
                            ></button>
                        </template>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>