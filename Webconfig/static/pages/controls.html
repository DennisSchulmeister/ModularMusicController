<div
    class  = "card shadow"
    style  = "width: 50em; max-width: 100%;"
    x-data = "new ConfigTable({
        config:    'controls',
        canEdit:   false,
        canCreate: false,
        canDelete: false,
        initial:   [],
        emptyLine: {},
    })"
    x-init = "$store.control.goBack = () => viewTable(false);"
>
    <!-- Control Overview -->
    <template x-if="viewMode === 'table'">
        <div>
            <div class="card-header">
                <div class="text-center text-primary-emphasis">
                    Hardware Controls
                </div>
            </div>
    
            <div class="card-body">
                <div class="fw-light fst-italic" x-show="!data.length">
                    <p>
                        There are no hardware controls installed. Power off the device, disconnect all
                        connections, open the case, connect additional boards as needed and plug in
                        your hardware controls to start using the device.
                    </p>
                    <p>
                        Here you will see all installed controls to configure their behavior.
                    </p>
                </div>
    
                <div class="table-responsive">
                    <table class="table table-striped" x-show="data.length">
                        <thead>
                            <tr>
                                <th scope="col">Control</th>
                                <th scope="col">Type</th>
                                <th scope="col">Name</th>
                                <th scope="col">Sent Messages</th>
                                <th scope="col">Received Messages</th>
                            </tr>
                        </thead>
    
                        <template x-for="(entry, index) in data" :key="`${entry.board}.${entry.slot}`">
                            <tbody>
                                <tr x-show="entry.slot === 0">
                                    <td colspan="5" x-text="`Board ${entry.board + 1}`"></td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="d-flex gap-2 align-items-center">
                                            <a
                                                href   = "#"
                                                class  = "d-flex gap-1"
                                                x-text = "`Control ${entry.slot + 1}`"
                                                @click = "
                                                    $store.control.board = entry.board;
                                                    $store.control.slot  = entry.slot;
                                                    viewDetails(index);
                                                "
                                            ></a>
                                        </div>
                                    </td>
                                    <td x-text="entry.type"></td>
                                    <td x-text="entry.name"></td>
                                    <td>
                                        <div class="d-flex gap-3 fw-light">
                                            <span class="text-primary-emphasis" x-show="entry.midi.send">MIDI</span>
                                            <span class="text-success"          x-show="entry.osc.send">OSC</span>
                                            <span class="text-info-emphasis"    x-show="entry.mqtt.send">MQTT</span>
                                            <span class="text-danger-emphasis"  x-show="entry.serial.send">Serial</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="d-flex gap-3 fw-light">
                                            <span class="text-primary-emphasis" x-show="entry.midi.receive">MIDI</span>
                                            <span class="text-success"          x-show="entry.osc.receive">OSC</span>
                                            <span class="text-info-emphasis"    x-show="entry.mqtt.receive">MQTT</span>
                                            <span class="text-danger-emphasis"  x-show="entry.serial.receive">Serial</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </template>
                    </table>
                </div>
            </div>
        </div>
    </template>

    <!-- Single Control -->
    <template x-if="viewMode !== 'table'">
        <div
            x-init = "showPage('components/tab-card.html', $el)"
            x-data = "{
                title: `Board ${currentLine.board + 1} / Control ${currentLine.slot + 1}`,
                tabs: [
                    {id: 'base',   label: 'Control Details',  page: 'pages/controls/base.html'},
                    {id: 'midi',   label: 'MIDI Messages',    page: 'pages/controls/midi.html'},
                    {id: 'osc',    label: 'OSC Messages',     page: 'pages/controls/osc.html'},
                    {id: 'mqtt',   label: 'MQTT Messages',    page: 'pages/controls/mqtt.html'},
                    {id: 'serial', label: 'Serial Messages',  page: 'pages/controls/serial.html'},
                ],
                active: 'base',
            }"
        ><div>
    </template>
</div>